---
title: "An√°lisis de Series de Tiempo y Pron√≥st√≥sticos ARIMA"
subtitle: "Estudio Emp√≠rico sobre el Precio de Acciones de Tesla Inc."
author: "Camilo"
date: "`r format(Sys.Date(), '%d de %B de %Y')`"
output:
  html_document:
    theme: darkly
    toc: false         
    toc_float: false   
---



<div id="custom-toc"></div>


```{=html}
<style type="text/css">


/* ========== PALETA DE COLORES CLARA - EST√âTICA PROFESIONAL Y DIN√ÅMICA ========== */
:root {
  /* Colores Base */
  --bg-light: #ffffff;
  --bg-lighter: #f5f7fa;
  --text-dark: #1f2937;
  --text-medium: #4b5563;
  --text-gray: #94a3b8;

  /* Acentos QQQ: Cian/Verde */
  --accent-primary: #00b894;
  --accent-secondary: #06b6d4;
  --accent-positive: #84cc16;
  --accent-negative: #e17055;
  --accent-soft: #3b82f6;
}

/* ========== RESET & ESTRUCTURA CLAVE ========== */
* {
  box-sizing: border-box !important;
  margin: 0;
  padding: 0;
}

html, body {
  background: var(--bg-light) !important;
  color: var(--text-dark) !important;
  font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
  line-height: 1.65 !important;
  overflow-x: hidden !important;
  min-height: 100vh !important;
}

/* Contenedor de contenido central */
div.container-fluid:first-of-type {
  width: auto !important;
  max-width: 100% !important;
  padding: 60px 80px !important;
}

/* ========== TOC PERSONALIZADO "CONTENIDO" ========== */
#custom-toc {
  position: fixed;
  top: 60px;
  left: 0;
  width: 260px;
  height: 80vh;
  overflow-y: auto;
  padding: 15px 10px;
  background: var(--bg-lighter);
  border-right: 2px solid var(--accent-secondary);
  border-radius: 0 10px 10px 0;
  box-shadow: 0 4px 20px rgba(0,0,0,0.15);
  z-index: 999;
}

/* T√≠tulo del TOC */
#custom-toc h2 {
  position: sticky;
  top: 0;
  background: var(--bg-lighter); /* Fondo s√≥lido que tapa texto detr√°s */
  z-index: 1000;
  padding: 12px 0 14px 0; /* M√°s espacio para evitar que las letras se monten */
  margin: 0;
  border-bottom: 2px solid rgba(0, 184, 148, 0.3); /* Separa visualmente */
}


/* Lista del TOC */
#custom-toc ul {
  list-style: none !important;
  padding-left: 0 !important;
  margin: 0 !important;
}

#custom-toc li {
  margin: 8px 0 !important;
}

/* Estilo de enlaces del TOC */
#custom-toc a {
  display: block;
  padding: 10px 14px;
  color: var(--text-medium) !important;
  text-decoration: none;
  border-radius: 8px;
  transition: all .2s ease;
}

#custom-toc a:hover {
  background: rgba(0,184,148,0.15);
  color: var(--accent-primary) !important;
  transform: translateX(5px);
  box-shadow: 0 4px 14px rgba(0,0,0,0.12);
}

/* Enlace activo */
#custom-toc a.active {
  background: var(--bg-light);
  color: var(--accent-primary) !important;
  border-left: 5px solid var(--accent-secondary);
  font-weight: 600;
  transform: translateX(4px);
}

/* Scrollbar est√©tico */
#custom-toc::-webkit-scrollbar {
  width: 6px !important;
}

#custom-toc::-webkit-scrollbar-thumb {
  background: var(--accent-secondary) !important;
  border-radius: 10px !important;
}

/* Ocultar el TOC nativo de R Markdown */
#TOC {
  display: none !important;
}

/* ========== SECCIONES Y TIPOGRAF√çA ========== */
.section.level1 {
  margin-bottom: 80px !important;
  padding: 50px !important;
  background: var(--bg-light) !important;
  border: 1px solid rgba(0, 0, 0, 0.05) !important;
  border-top: 6px solid var(--accent-primary) !important;
  border-radius: 12px !important;
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.1) !important;
  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1) !important;
}

.section.level1:hover {
  border-top-color: var(--accent-secondary) !important;
  box-shadow: 0 18px 55px rgba(0, 0, 0, 0.15) !important;
  transform: translateY(-3px) !important;
}

/* T√çTULOS */
h1 {
  font-size: 3em !important;
  margin: 20px 0 20px 0 !important;
  padding-bottom: 15px !important;
  border-bottom: 2px solid rgba(0, 0, 0, 0.08) !important;
  color: var(--text-dark) !important;
  font-weight: 800 !important;
}

h2 {
  font-size: 2.2em !important;
  color: var(--accent-primary) !important;
  margin-top: 50px !important;
  border-left: 8px solid var(--accent-secondary) !important;
  padding-left: 20px !important;
  transition: all 0.3s ease !important;
  font-weight: 600 !important;
}

h2:hover {
  padding-left: 25px !important;
  color: var(--accent-secondary) !important;
}

h3 {
  font-size: 1.6em !important;
  color: var(--accent-secondary) !important;
  border-left: 5px solid var(--accent-positive) !important;
  padding-left: 15px !important;
  margin-top: 30px !important;
  font-weight: 500 !important;
}

/* P√ÅRRAFOS */
p {
  color: var(--text-dark) !important;
  font-size: 1.05em !important;
  line-height: 1.8 !important;
}

/* ========== TABLAS ========== */
table {
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1) !important;
  border: 1px solid rgba(0, 0, 0, 0.05) !important;
  background: var(--bg-light) !important;
  border-radius: 10px !important;
  overflow: hidden !important;
  margin: 25px 0 !important;
}

thead {
  background: var(--accent-primary) !important;
}

th {
  color: var(--bg-light) !important;
  font-weight: 700 !important;
  padding: 15px 20px !important;
}

td {
  border-bottom: 1px solid var(--bg-lighter) !important;
  color: var(--text-dark) !important;
  padding: 12px 20px !important;
}

tbody tr:nth-child(even) {
  background-color: var(--bg-lighter) !important;
}

tbody tr:hover {
  background-color: rgba(6, 182, 212, 0.1) !important;
  transition: background-color 0.2s ease !important;
}

/* ========== C√ìDIGO ========== */
pre {
  background: var(--bg-lighter) !important;
  border-left: 6px solid var(--accent-secondary) !important;
  box-shadow: 0 6px 25px rgba(0, 0, 0, 0.08) !important;
  border: 1px solid rgba(6, 182, 212, 0.2) !important;
  border-radius: 10px !important;
  padding: 25px !important;
}

/* ========== FOOTER ========== */
div[style*="margin-top: 80px;"] {
  background: var(--bg-lighter) !important;
  border: 1px solid rgba(0, 0, 0, 0.05) !important;
  border-top: 6px solid var(--accent-primary) !important;
  color: var(--text-dark) !important;
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1) !important;
}
/* ======= DESPLAZAR EL CONTENIDO PARA QUE NO CHOQUE CON EL TOC ======= */
body .container-fluid,
body .main-container,
body div.container-fluid:first-of-type {
  margin-left: 280px !important;   /* un poco m√°s que el ancho del TOC */
  max-width: calc(100% - 300px) !important;
}


/* RESPONSIVE DESIGN */
@media (max-width: 768px) {
  #custom-toc {
    position: relative !important;
    width: 100% !important;
    height: auto !important;
    max-height: 300px !important;
    margin-bottom: 30px !important;
  }
  
  div.container-fluid:first-of-type {
    padding: 20px !important;
  }
}
</style>
```

```{=html}
<script>
document.addEventListener('DOMContentLoaded', function() {
  // ===== BOT√ìN C√ìDIGO GLOBAL =====
  const btn = document.createElement('button');
  btn.id = 'global-code-toggle';
  btn.textContent = 'üíª C√≥digo Oculto';
  document.body.appendChild(btn);
  
  let codeVisible = true;
  btn.addEventListener('click', function() {
    const codes = document.querySelectorAll('pre');
    codeVisible = !codeVisible;
    codes.forEach(code => {
      code.style.display = codeVisible ? 'block' : 'none';
    });
    btn.textContent = codeVisible ? 'üíª C√≥digo Oculto' : 'üëÅÔ∏è Mostrar C√≥digo';
  });
  
  // ===== MINI-TOC DERECHO DIN√ÅMICO =====
  const rightToc = document.createElement('nav');
  rightToc.id = 'right-toc';
  
  const rightTitle = document.createElement('div');
  rightTitle.id = 'right-toc-title';
  rightTitle.textContent = 'üìç Secci√≥n actual';
  
  const rightList = document.createElement('ul');
  rightList.id = 'right-toc-list';
  
  rightToc.appendChild(rightTitle);
  rightToc.appendChild(rightList);
  document.body.appendChild(rightToc);
  
  // ===== GESTI√ìN DE SCROLL Y ACTIVACI√ìN DE ENLACES =====
  function updateActiveTOCLink() {
    const sections = document.querySelectorAll('h1, h2');
    const tocLinks = document.querySelectorAll('#TOC a');
    const rightTocLinks = document.querySelectorAll('#right-toc-list a');
    
    let currentActiveId = '';
    
    // Determinar la secci√≥n visible (la que pasa por la parte superior de la ventana)
    sections.forEach(section => {
      const rect = section.getBoundingClientRect();
      // Usa un offset de 100px para que el t√≠tulo no est√© completamente arriba
      if (rect.top <= 100) { 
        currentActiveId = section.id;
      }
    });
    
    // Si no hay IDs activos, toma el primero.
    if (currentActiveId === '' && sections.length > 0) {
      currentActiveId = sections[0].id;
    }
    
    // Actualizar TOC izquierdo
    tocLinks.forEach(link => {
      link.classList.remove('active');
      if (link.getAttribute('href') === '#' + currentActiveId) {
        link.classList.add('active');
        
        // *** SCROLL INTERNO DEL TOC FIJO (SOLUCI√ìN PEDIDA) ***
        const tocElement = document.getElementById('TOC');
        const activeElement = link;
        
        if (tocElement && activeElement) {
          const tocScrollTop = tocElement.scrollTop;
          const tocHeight = tocElement.clientHeight;
          const linkTop = activeElement.offsetTop;
          const linkHeight = activeElement.clientHeight;
          
          // Si el enlace est√° fuera del campo de visi√≥n, desplazar
          if (linkTop < tocScrollTop || (linkTop + linkHeight) > (tocScrollTop + tocHeight)) {
            // Desplazar al centro de la vista
            tocElement.scrollTo({
              top: linkTop - (tocHeight / 2) + (linkHeight / 2),
              behavior: 'smooth'
            });
          }
        }
      }
    });
    
    // Actualizar mini-TOC derecho
    rightTocLinks.forEach(link => {
      link.classList.remove('active-section');
      if (link.getAttribute('href') === '#' + currentActiveId) {
        link.classList.add('active-section');
      }
    });
  }
  
  // Funci√≥n para actualizar subsecciones (Mini-TOC Derecho)
  function updateSubsections() {
    const h1s = document.querySelectorAll('h1');
    const rightList = document.getElementById('right-toc-list');
    const rightTitle = document.getElementById('right-toc-title');
    
    let currentH1 = null;
    
    h1s.forEach((h1) => {
      const rect = h1.getBoundingClientRect();
      if (rect.top <= 100) { // Usa el mismo offset
        currentH1 = h1;
      }
    });
    
    if (currentH1) {
      rightTitle.textContent = `üìç ${currentH1.textContent}`;
      rightList.innerHTML = '';
      
      // Llenar con h2s bajo el h1 actual
      let nextElement = currentH1.nextElementSibling;
      while (nextElement && nextElement.tagName !== 'H1') {
        if (nextElement.tagName === 'H2') {
          if (!nextElement.id) {
            nextElement.id = `h2-${Math.random().toString(36).substr(2, 9)}`;
          }
          
          const li = document.createElement('li');
          const a = document.createElement('a');
          a.href = `#${nextElement.id}`;
          a.textContent = nextElement.textContent;
          li.appendChild(a);
          rightList.appendChild(li);
        }
        nextElement = nextElement.nextElementSibling;
      }
    }
  }
  
  // ===== EVENT LISTENERS =====
  window.addEventListener('scroll', function() {
    updateActiveTOCLink();
    updateSubsections();
  });
  
  window.addEventListener('load', function() {
    // Asegurar que todos los headers tengan ID antes de actualizar los TOCs
    document.querySelectorAll('h1, h2').forEach(header => {
      if (!header.id) {
        header.id = header.textContent.toLowerCase().replace(/[^a-z0-9]+/g, '-');
      }
    });
    updateActiveTOCLink();
    updateSubsections();
  });
  
  // Smooth scroll para enlaces internos
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
      e.preventDefault();
      const target = document.querySelector(this.getAttribute('href'));
      if (target) {
        window.scrollTo({
          top: target.offsetTop - 100, // Offset para dejar espacio en la parte superior
          behavior: 'smooth'
        });
      }
    });
  });
});
</script>
```

---

# An√°lisis de Series de Tiempo y Pron√≥sticos ARIMA

Estudio Emp√≠rico sobre el Precio de Acciones de Tesla Inc.

---

# 1. Introducci√≥n

## 1.1 Relevancia del An√°lisis

[**PLACEHOLDER:** Explica la relevancia de Tesla, su importancia en el mercado global, volatilidad e impacto para inversionistas]

El an√°lisis de series de tiempo en los mercados financieros es fundamental para la toma de decisiones estrat√©gicas. Las acciones de Tesla Inc. representan un caso de estudio particularmente interesante debido a su volatilidad inherente y su impacto significativo en los mercados globales.

## 1.2 Metodolog√≠a: Modelos ARIMA

[**PLACEHOLDER:** Introduce los conceptos fundamentales de ARIMA, su importancia y utilidad en pron√≥sticos de series temporales]

Los modelos ARIMA combinan componentes autorregresivos, de integraci√≥n y de media m√≥vil para capturar din√°micas complejas en datos temporales.

---

# 2. Descripci√≥n de la Serie Temporal

## 2.1 Contexto Hist√≥rico

[**PLACEHOLDER:** Contexto de Tesla Inc., su cotizaci√≥n en bolsa, per√≠odo de an√°lisis seleccionado, eventos significativos que han afectado el precio]

## 2.2 Estad√≠sticas Descriptivas

[**PLACEHOLDER:** Carga tus datos y proporciona estad√≠sticas completas de la serie]

```{r datos, echo=TRUE, eval=FALSE}
# Cargar datos de Tesla
datos_tesla <- read.csv("tesla_data.csv")
summary(datos_tesla$Close)
sd(datos_tesla$Close)
```

| Estad√≠stico | Valor |
|:---|--:|
| Media | [Inserta] |
| Mediana | [Inserta] |
| Desv. Est. | [Inserta] |
| M√≠nimo | [Inserta] |
| M√°ximo | [Inserta] |

---

# 3. Resultados del Modelo ARIMA

## 3.1 Evaluaci√≥n de Estacionariedad

[**PLACEHOLDER:** Documenta pruebas de estacionariedad KPSS y ADF. Interpreta resultados]

```{r estacionariedad, echo=TRUE, eval=FALSE}
library(urca)
library(tseries)

summary(ur.kpss(datos_tesla$Close))
adf.test(datos_tesla$Close)
```

## 3.2 An√°lisis ACF y PACF

[**PLACEHOLDER:** Inserta gr√°ficos ACF y PACF. Analiza patrones de autocorrelaci√≥n]

```{r acf, echo=TRUE, eval=FALSE}
library(ggplot2)
ggtsdisplay(diff(datos_tesla$Close))
```

## 3.3 Selecci√≥n del Modelo

[**PLACEHOLDER:** Documenta par√°metros p, d, q seleccionados y justificaci√≥n]

| Par√°metro | Valor | Justificaci√≥n |
|:---|:--:|:---|
| p | [ ] | [Basado en PACF] |
| d | [ ] | [Basado en tests de estacionariedad] |
| q | [ ] | [Basado en ACF] |

## 3.4 Ajuste del Modelo

[**PLACEHOLDER:** Resumen del modelo ARIMA ajustado con coeficientes interpretados]

```{r arima, echo=TRUE, eval=FALSE}
library(forecast)
fit <- auto.arima(datos_tesla$Close, seasonal=FALSE)
summary(fit)
```

## 3.5 Diagn√≥stico de Residuos

[**PLACEHOLDER:** An√°lisis de residuos: gr√°ficos, pruebas de normalidad y autocorrelaci√≥n]

```{r residuos, echo=TRUE, eval=FALSE}
checkresiduals(fit)
```

## 3.6 Pron√≥sticos

[**PLACEHOLDER:** Pron√≥sticos para per√≠odos futuros con intervalos de confianza]

```{r forecast, echo=TRUE, eval=FALSE}
forecast_tesla <- forecast(fit, h=10)
autoplot(forecast_tesla)
```

---

# 4. Conclusiones

## 4.1 Hallazgos Principales

[**PLACEHOLDER:** Resumen de hallazgos principales del an√°lisis ARIMA]

## 4.2 Implicaciones Pr√°cticas

[**PLACEHOLDER:** Implicaciones de los pron√≥sticos para inversionistas y analistas de mercado]

## 4.3 Limitaciones del An√°lisis

[**PLACEHOLDER:** Limitaciones del modelo y aspectos no capturados]

## 4.4 Recomendaciones Futuras

[**PLACEHOLDER:** Sugerencias para mejoras y extensiones del an√°lisis]



```{=html}

<div style="
  margin-top: 80px;
  padding: 40px;
  background: linear-gradient(135deg, rgba(124, 58, 237, 0.15), rgba(6, 182, 212, 0.08));
  border: 2px solid rgba(124, 58, 237, 0.4);
  border-radius: 15px;
  border-top: 3px solid rgba(132, 204, 22, 0.8);
  text-align: center;
  color: #e0e6ed;
  font-size: 0.95em;
  line-height: 1.8;
  box-shadow: 0 8px 30px rgba(124, 58, 237, 0.2);
">
  <div style="margin-bottom: 20px; background: linear-gradient(135deg, #7c3aed, #06b6d4); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-weight: 700; font-size: 1.1em;">
    ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
  </div>
  
  <strong style="background: linear-gradient(135deg, #7c3aed, #06b6d4); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">ASIGNATURA:</strong> Gesti√≥n de Datos<br>
  <strong style="background: linear-gradient(135deg, #7c3aed, #06b6d4); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">PROFESOR:</strong> Orlando Joaqui-Barandica<br>
  <strong style="background: linear-gradient(135deg, #7c3aed, #06b6d4); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">UNIVERSIDAD:</strong> Universidad del Valle<br>
  <strong style="background: linear-gradient(135deg, #7c3aed, #06b6d4); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">FACULTAD:</strong> Facultad de Ingenier√≠a<br>
  <strong style="background: linear-gradient(135deg, #7c3aed, #06b6d4); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">PROGRAMA:</strong> Ingenier√≠a Industrial<br>
  
  <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid rgba(124, 58, 237, 0.3);">
    <strong style="background: linear-gradient(135deg, #06b6d4, #84cc16); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">ESTUDIANTE:</strong> Camilo<br>
    <strong style="background: linear-gradient(135deg, #06b6d4, #84cc16); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">FECHA ENTREGA:</strong> <span id="fecha-entrega"></span><br>
    <strong style="background: linear-gradient(135deg, #06b6d4, #84cc16); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">VERSI√ìN:</strong> 1.0<br>
  </div>
  
  <div style="margin-top: 20px; color: #94a3b8; font-size: 0.9em;">
    <em>Documento generado con R Markdown | Tema: Series de Tiempo y Pron√≥sticos ARIMA</em>
  </div>
  
  <div style="margin-top: 15px; background: linear-gradient(135deg, #7c3aed, #06b6d4); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-weight: 700;">
    ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
  </div>
</div>
```

```{=html}
<script>
document.addEventListener('DOMContentLoaded', function() {
  // ===== BOT√ìN C√ìDIGO GLOBAL =====
  const btn = document.createElement('button');
  btn.id = 'global-code-toggle';
  btn.textContent = 'üíª C√≥digo Oculto';
  document.body.appendChild(btn);
  
  let codeVisible = true;
  btn.addEventListener('click', function() {
    const codes = document.querySelectorAll('pre');
    codeVisible = !codeVisible;
    codes.forEach(code => {
      code.style.display = codeVisible ? 'block' : 'none';
    });
    btn.textContent = codeVisible ? 'üíª C√≥digo Oculto' : 'üëÅÔ∏è Mostrar C√≥digo';
  });
  
  // ===== CREACI√ìN DEL TOC "CONTENIDO" =====
  const toc = document.getElementById("custom-toc");
  
  // Crear t√≠tulo
  const title = document.createElement("h2");
  title.textContent = "Contenido";
  toc.appendChild(title);
  
  const list = document.createElement("ul");
  toc.appendChild(list);

  // Seleccionar encabezados principales (h1, h2)
  const headers = document.querySelectorAll("h1, h2");

  headers.forEach(h => {
    if (!h.id) {
      h.id = h.textContent.toLowerCase().replace(/[^a-z0-9]+/g, "-");
    }

    const li = document.createElement("li");
    const a = document.createElement("a");
    a.href = `#${h.id}`;
    a.textContent = h.textContent;

    li.appendChild(a);
    list.appendChild(li);
  });

  // ===== GESTI√ìN DE SCROLL Y ACTIVACI√ìN DE ENLACES =====
  function updateActiveTOCLink() {
    const sections = document.querySelectorAll('h1, h2');
    const tocLinks = document.querySelectorAll('#custom-toc a');
    
    let currentActiveId = '';
    
    // Determinar la secci√≥n visible
    sections.forEach(section => {
      const rect = section.getBoundingClientRect();
      if (rect.top <= 100) { 
        currentActiveId = section.id;
      }
    });
    
    // Si no hay IDs activos, toma el primero
    if (currentActiveId === '' && sections.length > 0) {
      currentActiveId = sections[0].id;
    }
    
    // Actualizar TOC
    tocLinks.forEach(link => {
      link.classList.remove('active');
      if (link.getAttribute('href') === '#' + currentActiveId) {
        link.classList.add('active');
      }
    });
  }
  
  // ===== EVENT LISTENERS =====
  window.addEventListener('scroll', function() {
    updateActiveTOCLink();
  });
  
  window.addEventListener('load', function() {
    // Asegurar que todos los headers tengan ID
    document.querySelectorAll('h1, h2').forEach(header => {
      if (!header.id) {
        header.id = header.textContent.toLowerCase().replace(/[^a-z0-9]+/g, '-');
      }
    });
    updateActiveTOCLink();
  });
  
  // Smooth scroll para enlaces internos
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
      e.preventDefault();
      const target = document.querySelector(this.getAttribute('href'));
      if (target) {
        window.scrollTo({
          top: target.offsetTop - 100,
          behavior: 'smooth'
        });
      }
    });
  });
  
  // Actualizar fecha de entrega
  document.getElementById('fecha-entrega').textContent = new Date().toLocaleDateString('es-ES', {
    year: 'numeric',
    month: 'long',
    day: 'numeric'
  });
});

</script>
```

